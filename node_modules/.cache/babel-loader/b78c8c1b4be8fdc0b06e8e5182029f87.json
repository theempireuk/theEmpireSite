{"ast":null,"code":"var _canvas;\n\nvar ImageUtils = {\n  getDataURL: function getDataURL(image) {\n    if (/^data:/i.test(image.src)) {\n      return image.src;\n    }\n\n    if (typeof HTMLCanvasElement == 'undefined') {\n      return image.src;\n    }\n\n    var canvas;\n\n    if (image instanceof HTMLCanvasElement) {\n      canvas = image;\n    } else {\n      if (_canvas === undefined) _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n      _canvas.width = image.width;\n      _canvas.height = image.height;\n\n      var context = _canvas.getContext('2d');\n\n      if (image instanceof ImageData) {\n        context.putImageData(image, 0, 0);\n      } else {\n        context.drawImage(image, 0, 0, image.width, image.height);\n      }\n\n      canvas = _canvas;\n    }\n\n    if (canvas.width > 2048 || canvas.height > 2048) {\n      return canvas.toDataURL('image/jpeg', 0.6);\n    } else {\n      return canvas.toDataURL('image/png');\n    }\n  }\n};\nexport { ImageUtils };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/extras/ImageUtils.js"],"names":["_canvas","ImageUtils","getDataURL","image","test","src","HTMLCanvasElement","canvas","undefined","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL"],"mappings":"AAAA,IAAIA,OAAJ;;AAEA,IAAMC,UAAU,GAAG;AAElBC,EAAAA,UAAU,EAAE,oBAAWC,KAAX,EAAmB;AAE9B,QAAK,UAAUC,IAAV,CAAgBD,KAAK,CAACE,GAAtB,CAAL,EAAmC;AAElC,aAAOF,KAAK,CAACE,GAAb;AAEA;;AAED,QAAK,OAAOC,iBAAP,IAA4B,WAAjC,EAA+C;AAE9C,aAAOH,KAAK,CAACE,GAAb;AAEA;;AAED,QAAIE,MAAJ;;AAEA,QAAKJ,KAAK,YAAYG,iBAAtB,EAA0C;AAEzCC,MAAAA,MAAM,GAAGJ,KAAT;AAEA,KAJD,MAIO;AAEN,UAAKH,OAAO,KAAKQ,SAAjB,EAA6BR,OAAO,GAAGS,QAAQ,CAACC,eAAT,CAA0B,8BAA1B,EAA0D,QAA1D,CAAV;AAE7BV,MAAAA,OAAO,CAACW,KAAR,GAAgBR,KAAK,CAACQ,KAAtB;AACAX,MAAAA,OAAO,CAACY,MAAR,GAAiBT,KAAK,CAACS,MAAvB;;AAEA,UAAMC,OAAO,GAAGb,OAAO,CAACc,UAAR,CAAoB,IAApB,CAAhB;;AAEA,UAAKX,KAAK,YAAYY,SAAtB,EAAkC;AAEjCF,QAAAA,OAAO,CAACG,YAAR,CAAsBb,KAAtB,EAA6B,CAA7B,EAAgC,CAAhC;AAEA,OAJD,MAIO;AAENU,QAAAA,OAAO,CAACI,SAAR,CAAmBd,KAAnB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgCA,KAAK,CAACQ,KAAtC,EAA6CR,KAAK,CAACS,MAAnD;AAEA;;AAEDL,MAAAA,MAAM,GAAGP,OAAT;AAEA;;AAED,QAAKO,MAAM,CAACI,KAAP,GAAe,IAAf,IAAuBJ,MAAM,CAACK,MAAP,GAAgB,IAA5C,EAAmD;AAElD,aAAOL,MAAM,CAACW,SAAP,CAAkB,YAAlB,EAAgC,GAAhC,CAAP;AAEA,KAJD,MAIO;AAEN,aAAOX,MAAM,CAACW,SAAP,CAAkB,WAAlB,CAAP;AAEA;AAED;AAvDiB,CAAnB;AA2DA,SAASjB,UAAT","sourcesContent":["let _canvas;\n\nconst ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\nexport { ImageUtils };\n"]},"metadata":{},"sourceType":"module"}